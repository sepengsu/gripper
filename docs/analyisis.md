# ğŸ” AG ì‹œë¦¬ì¦ˆ ê·¸ë¦¬í¼ í†µì‹  ë°©ì‹ ë¶„ì„ ë° ì„ íƒ ê°€ì´ë“œ

## 1. í†µì‹  ë°©ì‹ ê°œìš”

AG ì‹œë¦¬ì¦ˆ ê·¸ë¦¬í¼(DH-Robotics)ëŠ” ë‹¤ìŒ ë‘ ê°€ì§€ ì£¼ìš” í†µì‹  ë°©ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤:

| í†µì‹  ë°©ì‹ | ì„¤ëª… | íŠ¹ì§• |
|-----------|------|------|
| **Modbus RTU** | ì‚°ì—… í‘œì¤€ ì‹œë¦¬ì–¼ í†µì‹  í”„ë¡œí† ì½œ | âœ… í‘œì¤€í™” / ë²”ìš©ì„± / ë‹¤ì–‘í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì§€ì› |
| **Free Protocol (RS485)** | DH-Robotics ê³ ìœ ì˜ ë°”ì´ë„ˆë¦¬ í”„ë ˆì„ ê¸°ë°˜ í”„ë¡œí† ì½œ | âš ï¸ ì§ì ‘ í”„ë ˆì„ êµ¬ì„± í•„ìš” / ë¹„í‘œì¤€ ë°©ì‹ |

---

## 2. Free Protocol vs. Modbus RTU ì°¨ì´ì 

| í•­ëª© | Modbus RTU | Free Protocol (RS485) |
|------|-------------|------------------------|
| í”„ë ˆì„ êµ¬ì¡° | í‘œì¤€ Modbus RTU í”„ë ˆì„ (ì£¼ì†Œ + ê¸°ëŠ¥ + ë°ì´í„° + CRC) | ì»¤ìŠ¤í…€ 14ë°”ì´íŠ¸ ë°”ì´ë„ˆë¦¬ êµ¬ì¡° |
| íŒŒì´ì¬ ì§€ì› | âœ… `pymodbus` ë“± í’ë¶€í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ | âŒ ìˆ˜ë™ êµ¬í˜„ í•„ìš” (`struct`, `serial` ì§ì ‘ ì‚¬ìš©) |
| ëª…ë ¹ì–´ ì´í•´ë„ | ê³ ìˆ˜ì¤€ (ë ˆì§€ìŠ¤í„° ê¸°ë°˜ ì œì–´) | ì €ìˆ˜ì¤€ (ê¸°ê³„ì–´ ìˆ˜ì¤€ ë°”ì´íŠ¸ ì²˜ë¦¬) |
| ë””ë²„ê¹… ìš©ì´ì„± | ì‰¬ì›€ (ì—ëŸ¬ í•´ì„ ê°€ëŠ¥) | ì–´ë ¤ì›€ (í”„ë ˆì„ í•´ì„ ë³µì¡) |
| ê¶Œì¥ ìƒí™© | í”„ë¡œê·¸ë˜ë° ì§ì ‘ ì œì–´ ì‹œ | ë‚´ì¥í˜• ì¥ì¹˜ì—ì„œ ë¯¸ë¦¬ ì •ì˜ëœ ì‹œí€€ìŠ¤ ì‹¤í–‰ ì‹œ |

---

## 3. í˜„ì¬ ì—°ê²° ë°©ì‹ ë¶„ì„

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ | **Micro USB (`Debug`)** |
| ë‚´ë¶€ ê¸°ëŠ¥ | USB-to-RS485 ë³€í™˜, ê°€ìƒ COM í¬íŠ¸ë¡œ ì¸ì‹ |
| ìš´ì˜ì²´ì œ ì¸ì‹ | **STMicroelectronics Virtual COM Port** (Windows ì¥ì¹˜ ê´€ë¦¬ìì—ì„œ í™•ì¸ ê°€ëŠ¥) |
| ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¡œí† ì½œ | **Modbus RTU ì „ìš© í†µì‹ ë§Œ ì§€ì›ë¨** |
| ì°¸ê³ ì‚¬í•­ | Free Protocolì€ RS485 ì§ê²°(í„°ë¯¸ë„ ë¸”ë¡) ë°©ì‹ì´ì–´ì•¼ ì‚¬ìš© ê°€ëŠ¥í•˜ë©°, USB Debug í¬íŠ¸ì—ì„œëŠ” ì‚¬ìš© ë¶ˆê°€ |

---

## 4. ì–´ë–¤ í”„ë¡œí† ì½œì„ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

| ì¡°ê±´ | ì„ íƒ |
|------|------|
| Pythonìœ¼ë¡œ ì§ì ‘ í†µì‹ í•˜ê³  ì‹¶ìŒ | âœ… Modbus RTU |
| ì™¸ë¶€ í”„ë¡œê·¸ë¨ ì—†ì´ ì œì–´í•˜ê³  ì‹¶ìŒ | âœ… Modbus RTU |
| í˜„ì¬ USBë¡œ ì—°ê²°í•˜ì—¬ ì œì–´í•˜ë ¤ í•¨ | âœ… Modbus RTU (USB í¬íŠ¸ëŠ” Modbus ì „ìš© ì‹œë¦¬ì–¼ ì¥ì¹˜ì„) |
| RS485 ë‹¨ì ì§ì ‘ ì—°ê²° ê°€ëŠ¥í•¨ | âš ï¸ Free Protocol ê°€ëŠ¥ (ë‹¨, í”„ë ˆì„ ìˆ˜ë™ êµ¬ì„± í•„ìš”) |

---

## âœ… ê²°ë¡ 

> **í˜„ì¬ Micro USB (Debug) í¬íŠ¸ë¥¼ í†µí•´ ì—°ê²°ëœ ìƒí™©ì—ì„œëŠ” ë°˜ë“œì‹œ `Modbus RTU` ë°©ì‹ìœ¼ë¡œ í†µì‹ í•´ì•¼ í•˜ë©°, ì´ëŠ” Pythonì—ì„œë„ `pymodbus` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ ì‰½ê²Œ êµ¬í˜„ ê°€ëŠ¥í•©ë‹ˆë‹¤.**

---

## ğŸ“Œ ì¶”ì²œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë° ì„¤ì • ìš”ì•½

- **ë¼ì´ë¸ŒëŸ¬ë¦¬**: `pymodbus`
- **í¬íŠ¸**: `COMx` (Windows) / `/dev/ttyUSBx` (Linux)
- **Baudrate**: 115200
- **Parity**: None
- **Stopbit**: 1
- **Slave ID**: 1

### â–¶ï¸ ì˜ˆì œ ì½”ë“œ

```python
from pymodbus.client import ModbusSerialClient

client = ModbusSerialClient(
    method='rtu',
    port='COM5',         # ì‹¤ì œ í™˜ê²½ì— ë§ê²Œ ìˆ˜ì •
    baudrate=115200,
    stopbits=1,
    bytesize=8,
    parity='N',
    timeout=1
)

client.connect()

# ì´ˆê¸°í™” ëª…ë ¹
client.write_register(address=0x0100, value=0xA5, unit=1)

# ìƒíƒœ í™•ì¸
res = client.read_holding_registers(address=0x0201, count=1, unit=1)
print("Gripper State:", res.registers[0])

client.close()
